"use strict";(self.webpackChunkbcrs=self.webpackChunkbcrs||[]).push([[515],{4515:(K,p,l)=>{l.r(p),l.d(p,{SecurityModule:()=>$});var u=l(6814),o=l(95),a=l(9310),f=l(9862),e=l(4946);let g=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-security"]],decls:1,vars:0,template:function(n,s){1&n&&e._UZ(0,"router-outlet")},dependencies:[a.lC],encapsulation:2})}return t})();var b=l(7773);function h(t,i){1&t&&(e.TgZ(0,"div")(1,"p",18),e._uU(2,"Username is required"),e.qZA()())}function _(t,i){if(1&t&&(e.TgZ(0,"div")(1,"p",18),e._uU(2),e.qZA()()),2&t){const r=e.oxw();e.xp6(2),e.Oqu(r.getPasswordRequirementsMessage())}}function v(t,i){1&t&&(e.TgZ(0,"div")(1,"p",18),e._uU(2,"Email is required"),e.qZA()())}function y(t,i){if(1&t&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&t){const r=e.oxw().$implicit;e.Q6J("value",r),e.xp6(1),e.Oqu(r)}}function w(t,i){if(1&t&&(e.ynx(0),e.YNc(1,y,2,2,"option",22),e.BQk()),2&t){const r=i.$implicit,n=e.oxw().$implicit,s=e.oxw();e.xp6(1),e.Q6J("ngIf",!s.isQuestionSelected(r,n))}}function C(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",7)(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"select",19)(5,"option",20),e._uU(6,"Choose your security question..."),e.qZA(),e.YNc(7,w,2,1,"ng-container",15),e.qZA(),e._UZ(8,"input",21),e.qZA(),e.BQk()),2&t){const r=i.$implicit,n=i.index,s=e.oxw();e.xp6(3),e.hij("Security Question ",n+1,""),e.xp6(1),e.s9C("formControlName",r),e.xp6(3),e.Q6J("ngForOf",s.securityQuestions),e.xp6(1),e.MGl("formControlName","securityAnswer",n+1,"")("placeholder","Answer ",n+1," (required)")}}const q=function(){return["securityQuestion1","securityQuestion2","securityQuestion3"]};let Z=(()=>{class t{constructor(r,n){this.http=r,this.router=n,this.message="",this.securityQuestions=[],this.createUserForm=new o.cw({userName:new o.NI(null,o.kI.required),password:new o.NI(null,[o.kI.required,o.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/)]),email:new o.NI(null,[o.kI.required,o.kI.email]),firstName:new o.NI(null,o.kI.required),lastName:new o.NI(null,o.kI.required),securityQuestion1:new o.NI(null,o.kI.required),securityAnswer1:new o.NI(null,o.kI.required),securityQuestion2:new o.NI(null,o.kI.required),securityAnswer2:new o.NI(null,o.kI.required),securityQuestion3:new o.NI(null,o.kI.required),securityAnswer3:new o.NI(null,o.kI.required)})}ngOnInit(){this.fetchSecurityQuestions()}fetchSecurityQuestions(){this.http.get("/api/security-questions").subscribe(r=>{this.securityQuestions=r},r=>{console.error("Failed to fetch security questions:",r),this.message="Failed to fetch security questions"})}getPasswordRequirementsMessage(){const r=this.createUserForm.get("password");return r?.hasError("pattern")?"Password must contain at least one lowercase letter, one uppercase letter, one digit, and be at least 8 characters long":r?.hasError("required")?"Password is required":""}isQuestionSelected(r,n){const s=["securityQuestion1","securityQuestion2","securityQuestion3"].filter(c=>c!==n);for(let c of s)if(this.createUserForm.get(c)?.value===r)return!0;return!1}registerUser(){this.createUserForm.valid?this.http.post("/api/security/register",{userName:this.createUserForm.value.userName,password:this.createUserForm.value.password,email:this.createUserForm.value.email,firstName:this.createUserForm.value.firstName,lastName:this.createUserForm.value.lastName,securityQuestions:[{question:this.createUserForm.value.securityQuestion1,answer:this.createUserForm.value.securityAnswer1},{question:this.createUserForm.value.securityQuestion2,answer:this.createUserForm.value.securityAnswer2},{question:this.createUserForm.value.securityQuestion3,answer:this.createUserForm.value.securityAnswer3}]}).subscribe(n=>{console.log(n),this.message="User created successfully",this.router.navigate(["/security/signin"]),this.createUserForm.reset()},n=>{console.error(n),this.message="An error occurred while creating the user"}):this.message="Please complete the form before submitting."}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(f.eN),e.Y36(a.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:28,vars:7,consts:[[1,"container","pt-5","pb-5",2,"align-items","center","display","flex","justify-content","center"],[1,"col-12","col-md-10","col-lg-8","col-xl-6"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"fw-bold","mb-5","text-uppercase","gold"],[3,"formGroup","ngSubmit"],[1,"form-outline","form-white","mb-4"],["formControlName","userName","type","text","placeholder","Username (required)",1,"form-control","form-control-lg"],[4,"ngIf"],["formControlName","password","type","password","placeholder","Password",1,"form-control","form-control-lg"],["formControlName","email","type","email","placeholder","E-Mail (required)",1,"form-control","form-control-lg"],["formControlName","firstName","type","text","placeholder","First Name",1,"form-control","form-control-lg"],["formControlName","lastName","type","text","placeholder","Last Name",1,"form-control","form-control-lg"],[2,"font-size","xx-large"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-lg","px-5"],["id","userConfirmation"],[1,"text-warning"],[1,"form-control","form-control-lg","custom-select",3,"formControlName"],["value","","disabled","","selected",""],["type","text",1,"form-control","form-control-lg",3,"formControlName","placeholder"],[3,"value",4,"ngIf"],[3,"value"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6,"Register"),e.qZA(),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return s.registerUser()}),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.YNc(10,h,3,0,"div",9),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"input",10),e.YNc(13,_,3,1,"div",9),e.qZA(),e.TgZ(14,"div",7),e._UZ(15,"input",11),e.YNc(16,v,3,0,"div",9),e.qZA(),e.TgZ(17,"div",7),e._UZ(18,"input",12),e.qZA(),e.TgZ(19,"div",7),e._UZ(20,"input",13),e.qZA(),e.TgZ(21,"p",14),e._uU(22,"Security Questions"),e.qZA(),e.YNc(23,C,9,5,"ng-container",15),e.TgZ(24,"button",16),e._uU(25,"Create User"),e.qZA()(),e.TgZ(26,"p",17),e._uU(27),e.qZA()()()()()()),2&n&&(e.xp6(7),e.Q6J("formGroup",s.createUserForm),e.xp6(3),e.Q6J("ngIf",s.createUserForm.controls.userName.invalid&&s.createUserForm.controls.userName.touched),e.xp6(3),e.Q6J("ngIf",s.createUserForm.controls.password.touched&&!s.createUserForm.controls.password.valid),e.xp6(3),e.Q6J("ngIf",s.createUserForm.controls.email.invalid&&s.createUserForm.controls.email.touched),e.xp6(7),e.Q6J("ngForOf",e.DdM(6,q)),e.xp6(4),e.Oqu(s.message))},dependencies:[u.sg,u.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u],styles:['.btn[_ngcontent-%COMP%]{border-radius:0!important;color:#f8b400!important;border-color:#f8b400!important}.btn[_ngcontent-%COMP%]:hover{background-color:#f8b400!important;color:#000!important;border-color:#f8b400!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border:none;border-radius:0;border-bottom:2px solid #f8b400;outline:none;background-color:#212529;color:#fff!important}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#212529!important;box-shadow:none!important;color:#fff!important}input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{border-color:#f8b400!important}input[_ngcontent-%COMP%]::placeholder{color:#adb5bd}#userConfirmation[_ngcontent-%COMP%]{color:#f8b400!important;font-size:large!important}.custom-select[_ngcontent-%COMP%]{appearance:none;background:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M7 10l5 5 5-5z"/></svg>\') no-repeat;background-position:right .7em top 50%;background-size:24px}.form-control-lg.custom-select[_ngcontent-%COMP%]{cursor:pointer}']})}return t})();var d=l(6982);function x(t,i){1&t&&(e.TgZ(0,"span",17),e._uU(1," Email is required. "),e.qZA())}function P(t,i){1&t&&(e.TgZ(0,"span",17),e._uU(1," Email must be a valid email address. "),e.qZA())}function Q(t,i){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,x,2,0,"span",16),e.YNc(2,P,2,0,"span",16),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.emailForm.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.emailForm.controls.email.hasError("email"))}}function M(t,i){if(1&t&&(e.TgZ(0,"div",18)(1,"div",19)(2,"span",17),e._uU(3),e.qZA()()()),2&t){const r=e.oxw();e.xp6(3),e.Oqu(r.errorMessage)}}function T(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1,"Verify Account"),e.qZA())}function A(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"span",20),e._uU(2," Loading... "),e.qZA())}function I(t,i){if(1&t&&(e.TgZ(0,"div",7)(1,"div",19)(2,"div",20),e._uU(3),e.qZA()()()),2&t){const r=e.oxw();e.xp6(3),e.hij(" ",r.errorMessage," ")}}function O(t,i){if(1&t&&(e.TgZ(0,"label",21),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.securityQuestion1)}}function F(t,i){if(1&t&&(e.TgZ(0,"label",22),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.securityQuestion2)}}function N(t,i){if(1&t&&(e.TgZ(0,"label",23),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.securityQuestion3)}}function k(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Answer is required. "),e.qZA())}function S(t,i){if(1&t&&(e.TgZ(0,"div",24),e.YNc(1,k,2,0,"div",17),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.sqForm.controls.securityAnswer1.hasError("required"))}}function J(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1,"Verify Security Questions"),e.qZA())}function Y(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"span",25),e._uU(2," Loading... "),e.qZA())}function R(t,i){if(1&t&&(e.TgZ(0,"div",7)(1,"div",15)(2,"div",16),e._uU(3),e.qZA()()()),2&t){const r=e.oxw();e.xp6(3),e.hij(" ",r.errorMessage," ")}}function E(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Password is required. "),e.qZA())}function V(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, and one number. "),e.qZA())}function z(t,i){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,E,2,0,"div",13),e.YNc(2,V,2,0,"div",13),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.changePasswordForm.controls.password.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.changePasswordForm.controls.password.hasError("pattern"))}}function B(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1,"Change Password"),e.qZA())}function j(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"span",18),e._uU(2," Loading... "),e.qZA())}const G=[{path:"",component:g,children:[{path:"register",component:Z,title:"BCRS: Register"},{path:"verify-email",component:(()=>{class t{constructor(r,n,s){this.fb=r,this.router=n,this.userService=s,this.isLoading=!1,this.errorMessage="",this.emailForm=this.fb.group({email:[null,o.kI.compose([o.kI.required,o.kI.email])]})}verifyUser(){this.isLoading=!0;const r=this.emailForm.controls.email.value;this.userService.verifyUser(r).subscribe({next:n=>{console.log(n),n?this.router.navigate(["/security/verify-questions"],{queryParams:{email:r},skipLocationChange:!0}):this.errorMessage="The email address you entered was not found."},error:n=>{console.log("Server Error from verifyUser Call:",n),this.errorMessage="There was a problem verifying your email address. Please try again."},complete:()=>{this.isLoading=!1}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(a.F0),e.Y36(d.K))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-verify-email"]],decls:19,vars:6,consts:[[1,"container","mt-5"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-8","col-md-10"],[1,"card","shadow","p-4"],[1,"form","row","g-3",3,"formGroup","ngSubmit"],[1,"mb-3","form-group"],[1,"row"],[1,"col-md-12"],["for","email",1,"form-label"],["formControlName","email","type","text","id","email","name","email","placeholder","Email","required","",1,"form-control"],["class","validation-message mt-2","style","color: #f8b400;",4,"ngIf"],["class","row","style","color: #f8b400;",4,"ngIf"],["type","submit","id","submit",1,"btn","btn-lg","text-white","mx-auto","d-block",3,"disabled"],[4,"ngIf"],["routerLink","/security/signin",1,"text-underline-hover",2,"color","#f8b400"],[1,"validation-message","mt-2",2,"color","#f8b400"],["class","validation-message",4,"ngIf"],[1,"validation-message"],[1,"row",2,"color","#f8b400"],[1,"col-12"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return s.verifyUser()}),e.TgZ(5,"fieldset",5)(6,"legend"),e._uU(7,"Employee Information"),e.qZA(),e.TgZ(8,"div",6)(9,"div",7),e._UZ(10,"label",8)(11,"input",9),e.YNc(12,Q,3,2,"div",10),e.qZA()()(),e.YNc(13,M,4,1,"div",11),e.TgZ(14,"button",12),e.YNc(15,T,2,0,"span",13),e.YNc(16,A,3,0,"div",13),e.qZA()()(),e.TgZ(17,"a",14),e._uU(18,"Return To Sign In"),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("formGroup",s.emailForm),e.xp6(8),e.Q6J("ngIf",s.emailForm.controls.email.invalid&&(s.emailForm.controls.email.dirty||s.emailForm.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",s.errorMessage),e.xp6(1),e.Q6J("disabled",!s.emailForm.valid),e.xp6(1),e.Q6J("ngIf",!s.isLoading),e.xp6(1),e.Q6J("ngIf",s.isLoading))},dependencies:[u.O5,a.rH,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:[".card[_ngcontent-%COMP%]{background-color:#212529;color:#fff}.alert-danger[_ngcontent-%COMP%]{background-color:#730000;color:#fff;border:none}legend[_ngcontent-%COMP%], .spinner-border[_ngcontent-%COMP%]{color:#f8b400}.btn[_ngcontent-%COMP%]{border-radius:0!important;color:#fff!important;border-color:#f8b400!important;background-color:#f8b400!important}.btn[_ngcontent-%COMP%]:hover{background-color:#f8b400!important;color:#000!important;border-color:#f8b400!important}input[_ngcontent-%COMP%]{border:none;border-radius:0;background-color:transparent;border-bottom:2px solid #f8b400;outline:none;color:#fff}input[_ngcontent-%COMP%]:focus{background-color:transparent!important;outline:none!important;box-shadow:none!important;color:#fff!important}input[_ngcontent-%COMP%]::placeholder{color:#fff}input[type=email][_ngcontent-%COMP%]{color:#fff}#userConfirmation[_ngcontent-%COMP%]{color:#f8b400!important;font-size:large!important}"]})}return t})(),title:"BCRS: Verify Email"},{path:"verify-questions",component:(()=>{class t{constructor(r,n,s,c){this.route=r,this.router=n,this.userService=s,this.fb=c,this.selectedSecurityQuestions=[],this.email="",this.errorMessage="",this.isLoadingLabels=!0,this.isLoadingSubmit=!1,this.securityQuestion1="",this.securityQuestion2="",this.securityQuestion3="",this.sqForm=this.fb.group({securityAnswer1:[null,o.kI.compose([o.kI.required])],securityAnswer2:[null,o.kI.compose([o.kI.required])],securityAnswer3:[null,o.kI.compose([o.kI.required])]})}ngOnInit(){this.email=this.route.snapshot.queryParamMap.get("email")||"",this.email?this.userService.fetchSecurityQuestions().subscribe({next:r=>{this.selectedSecurityQuestions=r,console.log("Selected Security Questions:",this.selectedSecurityQuestions),this.selectedSecurityQuestions.length>=3&&(this.securityQuestion1=this.selectedSecurityQuestions[0],this.securityQuestion2=this.selectedSecurityQuestions[1],this.securityQuestion3=this.selectedSecurityQuestions[2])},error:r=>{console.error("Server Error:",r),this.errorMessage="There was a problem fetching security questions. Please try again."},complete:()=>{this.isLoadingLabels=!1}}):this.router.navigate(["/forgot-password"])}verifySecurityQuestions(){this.isLoadingSubmit=!0,this.userService.verifySecurityQuestions(this.email,[{question:this.securityQuestion1,answer:this.sqForm.controls.securityAnswer1.value},{question:this.securityQuestion2,answer:this.sqForm.controls.securityAnswer2.value},{question:this.securityQuestion3,answer:this.sqForm.controls.securityAnswer3.value}]).subscribe({next:m=>{console.log("Response from verifySecurityQuestions:",m),this.router.navigate(["/security/reset-password"],{queryParams:{email:this.email},skipLocationChange:!0})},error:m=>{console.error("Error verifying security questions:",m),this.errorMessage=m.error&&m.error.message?m.error.message:"An error occurred while verifying security questions. Please try again."},complete:()=>{this.isLoadingSubmit=!1}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(a.gz),e.Y36(a.F0),e.Y36(d.K),e.Y36(o.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-verify-questions"]],decls:23,vars:9,consts:[[1,"container","mt-5"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-8","col-md-10"],[1,"card","shadow","p-4"],[1,"form","row","g-3",3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[1,"mb-3","form-group"],[1,"row"],[1,"col-md-12"],["for","q1","class","form-label",4,"ngIf"],["type","text","formControlName","securityAnswer1",1,"form-control"],["for","q2","class","form-label",4,"ngIf"],["type","text","formControlName","securityAnswer2",1,"form-control"],["for","q3","class","form-label",4,"ngIf"],["type","text","formControlName","securityAnswer3",1,"form-control"],["class","validation-message mt-2","style","color: #f8b400;",4,"ngIf"],["type","submit","id","submit",1,"btn","btn-lg","bg-dark","text-white","mx-auto","d-block",3,"disabled"],[4,"ngIf"],["routerLink","/security/signin",1,"text-underline-hover",2,"color","#f8b400"],[1,"col-12"],[1,"alert","alert-danger"],["for","q1",1,"form-label"],["for","q2",1,"form-label"],["for","q3",1,"form-label"],[1,"validation-message","mt-2",2,"color","#f8b400"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return s.verifySecurityQuestions()}),e.YNc(5,I,4,1,"div",5),e.TgZ(6,"fieldset",6)(7,"legend"),e._uU(8,"Security Questions"),e.qZA(),e.TgZ(9,"div",7)(10,"div",8),e.YNc(11,O,2,1,"label",9),e._UZ(12,"input",10),e.YNc(13,F,2,1,"label",11),e._UZ(14,"input",12),e.YNc(15,N,2,1,"label",13),e._UZ(16,"input",14),e.YNc(17,S,2,1,"div",15),e.qZA()()(),e.TgZ(18,"button",16),e.YNc(19,J,2,0,"span",17),e.YNc(20,Y,3,0,"div",17),e.qZA()()(),e.TgZ(21,"a",18),e._uU(22,"Return To Sign In"),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("formGroup",s.sqForm),e.xp6(1),e.Q6J("ngIf",s.errorMessage),e.xp6(6),e.Q6J("ngIf",!s.isLoadingLabels),e.xp6(2),e.Q6J("ngIf",!s.isLoadingLabels),e.xp6(2),e.Q6J("ngIf",!s.isLoadingLabels),e.xp6(2),e.Q6J("ngIf",s.sqForm.controls.securityAnswer1.invalid&&(s.sqForm.controls.securityAnswer1.dirty||s.sqForm.controls.securityAnswer1.touched)),e.xp6(1),e.Q6J("disabled",!s.sqForm.valid),e.xp6(1),e.Q6J("ngIf",!s.isLoadingSubmit),e.xp6(1),e.Q6J("ngIf",s.isLoadingSubmit))},dependencies:[u.O5,a.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:['.btn[_ngcontent-%COMP%]{border-radius:0!important;color:#f8b400!important;border-color:#f8b400!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border:none;border-radius:0;border-bottom:2px solid #f8b400;outline:none;background-color:#212529;color:#fff!important}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#212529!important;box-shadow:none!important;color:#fff!important}input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{border-color:#f8b400!important}input[_ngcontent-%COMP%]::placeholder{color:#adb5bd}.custom-select[_ngcontent-%COMP%]{appearance:none;background:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M7 10l5 5 5-5z"/></svg>\') no-repeat;background-position:right .7em top 50%;background-size:24px}.form-control-lg.custom-select[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]{background-color:#212529;color:#fff}.alert-danger[_ngcontent-%COMP%]{background-color:#730000;color:#fff;border:none}legend[_ngcontent-%COMP%], .spinner-border[_ngcontent-%COMP%]{color:#f8b400}.btn[_ngcontent-%COMP%]{border-radius:0!important;color:#fff!important;border-color:#f8b400!important;background-color:#f8b400!important}.btn[_ngcontent-%COMP%]:hover{background-color:#f8b400!important;color:#000!important;border-color:#f8b400!important}input[_ngcontent-%COMP%]{border:none;border-radius:0;background-color:transparent;border-bottom:2px solid #f8b400;outline:none;color:#fff}input[_ngcontent-%COMP%]:focus{background-color:transparent!important;outline:none!important;box-shadow:none!important;color:#fff!important}input[_ngcontent-%COMP%]::placeholder{color:#fff}input[type=email][_ngcontent-%COMP%]{color:#fff}#userConfirmation[_ngcontent-%COMP%]{color:#f8b400!important;font-size:large!important}']})}return t})(),title:"BCRS: Verify Questions"},{path:"reset-password",component:(()=>{class t{constructor(r,n,s,c){this.fb=r,this.userService=n,this.route=s,this.router=c,this.errorMessage="",this.email="",this.isLoading=!1,this.email=this.route.snapshot.queryParamMap.get("email")||"",this.changePasswordForm=this.fb.group({password:[null,o.kI.compose([o.kI.required,o.kI.pattern("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$")])]})}changePassword(){this.isLoading=!0,this.userService.resetPassword(this.email,this.changePasswordForm.controls.password.value).subscribe({next:n=>{console.log(n),this.router.navigate(["/security/signin"])},error:n=>{console.error(n),this.errorMessage=404===n.status?"The password reset endpoint was not found. Please contact support.":"An error occurred while resetting your password. Please try again later.",this.isLoading=!1},complete:()=>{this.isLoading=!1}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(d.K),e.Y36(a.gz),e.Y36(a.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password"]],decls:20,vars:6,consts:[[1,"container","mt-5"],[1,"row","justify-content-center","mt-5"],[1,"col-lg-8","col-md-10"],[1,"card","shadow","p-4"],[1,"form","row","g-3",3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[1,"mb-3","form-group"],[1,"row"],[1,"col-md-12"],["for","password",1,"form-label"],["type","password","formControlName","password",1,"form-control"],["class","validation-message mt-2","style","color: #f8b400;",4,"ngIf"],["type","submit","id","submit",1,"btn","btn-lg","bg-dark","text-white","mx-auto","d-block",3,"disabled"],[4,"ngIf"],["routerLink","/security/signin",1,"text-underline-hover",2,"color","#f8b400"],[1,"col-12"],[1,"alert","alert-danger"],[1,"validation-message","mt-2",2,"color","#f8b400"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return s.changePassword()}),e.YNc(5,R,4,1,"div",5),e.TgZ(6,"fieldset",6)(7,"legend"),e._uU(8,"Change Password"),e.qZA(),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Password:"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,z,3,2,"div",11),e.qZA()()(),e.TgZ(15,"button",12),e.YNc(16,B,2,0,"span",13),e.YNc(17,j,3,0,"div",13),e.qZA()()()(),e.TgZ(18,"a",14),e._uU(19,"Return To Sign In"),e.qZA()()()),2&n&&(e.xp6(4),e.Q6J("formGroup",s.changePasswordForm),e.xp6(1),e.Q6J("ngIf",s.errorMessage),e.xp6(9),e.Q6J("ngIf",s.changePasswordForm.controls.password.invalid&&(s.changePasswordForm.controls.password.dirty||s.changePasswordForm.controls.password.touched)),e.xp6(1),e.Q6J("disabled",!s.changePasswordForm.valid),e.xp6(1),e.Q6J("ngIf",!s.isLoading),e.xp6(1),e.Q6J("ngIf",s.isLoading))},dependencies:[u.O5,a.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:['.btn[_ngcontent-%COMP%]{border-radius:0!important;color:#f8b400!important;border-color:#f8b400!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border:none;border-radius:0;border-bottom:2px solid #f8b400;outline:none;background-color:#212529;color:#fff!important}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#212529!important;box-shadow:none!important;color:#fff!important}input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{border-color:#f8b400!important}input[_ngcontent-%COMP%]::placeholder{color:#adb5bd}.custom-select[_ngcontent-%COMP%]{appearance:none;background:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M7 10l5 5 5-5z"/></svg>\') no-repeat;background-position:right .7em top 50%;background-size:24px}.form-control-lg.custom-select[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]{background-color:#212529;color:#fff}.alert-danger[_ngcontent-%COMP%]{background-color:#730000;color:#fff;border:none}legend[_ngcontent-%COMP%], .spinner-border[_ngcontent-%COMP%]{color:#f8b400}.btn[_ngcontent-%COMP%]{border-radius:0!important;color:#fff!important;border-color:#f8b400!important;background-color:#f8b400!important}.btn[_ngcontent-%COMP%]:hover{background-color:#f8b400!important;color:#000!important;border-color:#f8b400!important}input[_ngcontent-%COMP%]{border:none;border-radius:0;background-color:transparent;border-bottom:2px solid #f8b400;outline:none;color:#fff}input[_ngcontent-%COMP%]:focus{background-color:transparent!important;outline:none!important;box-shadow:none!important;color:#fff!important}input[_ngcontent-%COMP%]::placeholder{color:#fff}input[type=email][_ngcontent-%COMP%]{color:#fff}#userConfirmation[_ngcontent-%COMP%]{color:#f8b400!important;font-size:large!important}']})}return t})(),title:"BCRS: Reset Password"},{path:"signin",component:b.x,title:"BCRS: Sign In"}]}];let X=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[a.Bz.forChild(G),a.Bz]})}return t})(),$=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[u.ez,X,o.u5,o.UX,a.Bz,f.JF]})}return t})()}}]);